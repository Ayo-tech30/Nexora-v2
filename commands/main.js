import { db } from '../config/firebase.js';
import { formatUptime } from '../utils/helpers.js';

const startTime = Date.now();

export async function menuCommand(context) {
    const { sock, from, sender } = context;
    
    const menuText = `â•­â”â”ğ–£” ğ—¡ğ—˜ğ—«ğ—¢ğ—¥ğ—” ğ–£”â”â”â•®
â”‚  âœ¦ ğ™‹ğ™§ğ™šğ™›ğ™ğ™­   :  .
â”‚  âœ¦ ğ˜½ğ™¤ğ™© ğ™‰ğ™–ğ™¢ğ™š :  ğ—©ğ—¶ğ—¼ğ—¹ğ—²ğ˜
â”‚  âœ¦ ğ™Šğ™¬ğ™£ğ™šğ™§    :  ğ—ğ˜†ğ—»ğ˜…
â”‚  âœ¦ ğ™ğ™©ğ™–ğ™©ğ™ªğ™¨   :  ğ™Šğ™£ğ™¡ğ™ğ™£ğ™š âœ“
â”‚  âœ¦ ğ˜¿ğ˜½        :  Firebase ğŸ”¥
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯

âš™ï¸ ğ™ˆğ˜¼ğ™„ğ™‰ ğ™ˆğ™€ğ™‰ğ™ âš™ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¢ğ™šğ™£ğ™ª
á¯½ .ğ™¥ğ™ğ™£ğ™œ
á¯½ .ğ™–ğ™¡ğ™ğ™«ğ™š
á¯½ .ğ™–ğ™›ğ™ 
á¯½ .ğ™§ğ™šğ™œğ™ğ™¨ğ™©ğ™šğ™§ | .ğ™§ğ™šğ™œ
á¯½ .ğ™¡ğ™šğ™–ğ™™ğ™šğ™§ğ™—ğ™¤ğ™–ğ™§ğ™™ | .ğ™¡ğ™—
á¯½ .ğ™¢ğ™–ğ™§ğ™ ğ™šğ™©
á¯½ .ğ™¢ğ™ªğ™œğ™šğ™£
á¯½ .ğ™¢ğ™¤ğ™™ğ™š <ğ™¥ğ™§ğ™ğ™«ğ™–ğ™©ğ™š/ğ™¥ğ™ªğ™—ğ™¡ğ™ğ™˜>

ğŸ‘¤ ğ™‹ğ™ğ™Šğ™ğ™„ğ™‡ğ™€ ğ™ˆğ™€ğ™‰ğ™ ğŸ‘¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¥ | .ğ™¥ğ™§ğ™¤ğ™›ğ™ğ™¡ğ™š [@ğ™ªğ™¨ğ™šğ™§]
á¯½ .ğ™¨ğ™šğ™©ğ™¥ğ™§ğ™¤ğ™›ğ™ğ™¡ğ™š | .ğ™¨ğ™šğ™©ğ™¥
á¯½ .ğ™¨ğ™šğ™©ğ™¥ğ™§ğ™¤ğ™›ğ™ğ™¡ğ™šğ™¦ğ™ªğ™¤ğ™©ğ™š
á¯½ .ğ™¨ğ™šğ™©ğ™–ğ™œğ™š <ğ™£ğ™ªğ™¢>
á¯½ .ğ™¨ğ™šğ™©ğ™£ğ™–ğ™¢ğ™š <ğ™£ğ™–ğ™¢ğ™š>

ğŸ›¡ï¸ ğ™‚ğ™ğ™Šğ™ğ™‹ ğ˜¼ğ˜¿ğ™ˆğ™„ğ™‰ ğŸ›¡ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¥ğ™§ğ™¤ğ™¢ğ™¤ğ™©ğ™š @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™™ğ™šğ™¢ğ™¤ğ™©ğ™š @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™¢ğ™ªğ™©ğ™š @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™ªğ™£ğ™¢ğ™ªğ™©ğ™š @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™¬ğ™–ğ™§ğ™£ @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™¬ğ™–ğ™§ğ™£ğ™˜ğ™¤ğ™ªğ™£ğ™© @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™§ğ™šğ™¨ğ™šğ™©ğ™¬ğ™–ğ™§ğ™£ @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™ ğ™ğ™˜ğ™  @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™™ğ™šğ™¡ğ™šğ™©ğ™š
á¯½ .ğ™©ğ™–ğ™œğ™–ğ™¡ğ™¡
á¯½ .ğ™ğ™ğ™™ğ™šğ™©ğ™–ğ™œ
á¯½ .ğ™¬ğ™šğ™¡ğ™˜ğ™¤ğ™¢ğ™š <ğ™¤ğ™£/ğ™¤ğ™›ğ™›>
á¯½ .ğ™œğ™¤ğ™¤ğ™™ğ™—ğ™®ğ™š <ğ™¤ğ™£/ğ™¤ğ™›ğ™›>
á¯½ .ğ™–ğ™£ğ™©ğ™ğ™¡ğ™ğ™£ğ™  <ğ™¤ğ™£/ğ™¤ğ™›ğ™›>
á¯½ .ğ™œğ™§ğ™¤ğ™ªğ™¥ğ™ğ™£ğ™›ğ™¤

ğŸ´ ğ˜¾ğ˜¼ğ™ğ˜¿ğ™ ğ™ˆğ™€ğ™‰ğ™ ğŸ´
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¢ğ™®ğ™˜ğ™–ğ™§ğ™™ğ™¨
á¯½ .ğ™œğ™šğ™© <ğ™ğ™™>
á¯½ .ğ™™ğ™šğ™˜ğ™ 
á¯½ .ğ™œğ™ğ™«ğ™šğ™˜ğ™–ğ™§ğ™™ @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™¨ğ™šğ™¡ğ™¡ğ™˜ğ™–ğ™§ğ™™
á¯½ .ğ™–ğ™ªğ™˜ğ™©ğ™ğ™¤ğ™£
á¯½ .ğ™—ğ™ğ™™
á¯½ .ğ™§ğ™¤ğ™¡ğ™¡ğ™˜ğ™–ğ™§ğ™™
á¯½ .ğ™˜ğ™–ğ™§ğ™™ğ™¨ <ğ™¤ğ™£/ğ™¤ğ™›ğ™›>

ğŸ’° ğ™€ğ˜¾ğ™Šğ™‰ğ™Šğ™ˆğ™” ğ™ˆğ™€ğ™‰ğ™ ğŸ’°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™–ğ™˜ğ™˜ğ™—ğ™–ğ™¡ [@ğ™ªğ™¨ğ™šğ™§]
á¯½ .ğ™™ğ™šğ™¥ğ™¤ğ™¨ğ™ğ™© <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¬ğ™ğ™©ğ™ğ™™ğ™§ğ™–ğ™¬ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¨ğ™šğ™£ğ™™ @ğ™ªğ™¨ğ™šğ™§ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™™ğ™–ğ™ğ™¡ğ™®
á¯½ .ğ™¬ğ™šğ™šğ™ ğ™¡ğ™®
á¯½ .ğ™¢ğ™¤ğ™£ğ™©ğ™ğ™¡ğ™®
á¯½ .ğ™ğ™£ğ™«
á¯½ .ğ™¬ğ™¤ğ™§ğ™ 
á¯½ .ğ™§ğ™¤ğ™— @ğ™ªğ™¨ğ™šğ™§

ğŸ° ğ™‚ğ˜¼ğ™ˆğ˜½ğ™‡ğ™„ğ™‰ğ™‚ ğ™ˆğ™€ğ™‰ğ™ ğŸ°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™œğ™–ğ™¢ğ™—ğ™¡ğ™š <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¨ğ™¡ğ™¤ğ™©ğ™¨ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™§ğ™¤ğ™ªğ™¡ğ™šğ™©ğ™©ğ™š <ğ™—ğ™šğ™©> <ğ™˜ğ™¤ğ™¡ğ™¤ğ™§/ğ™£ğ™ªğ™¢ğ™—ğ™šğ™§>
á¯½ .ğ™—ğ™¡ğ™–ğ™˜ğ™ ğ™Ÿğ™–ğ™˜ğ™  <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™˜ğ™¤ğ™ğ™£ğ™›ğ™¡ğ™ğ™¥ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©> <ğ™ğ™šğ™–ğ™™ğ™¨/ğ™©ğ™–ğ™ğ™¡ğ™¨>
á¯½ .ğ™™ğ™ğ™˜ğ™š <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¡ğ™¤ğ™©ğ™©ğ™šğ™§ğ™®
á¯½ .ğ™Ÿğ™–ğ™˜ğ™ ğ™¥ğ™¤ğ™©
á¯½ .ğ™˜ğ™§ğ™–ğ™¨ğ™ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™§ğ™–ğ™˜ğ™š <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¬ğ™ğ™šğ™šğ™¡ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¥ğ™¤ğ™ ğ™šğ™§ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¢ğ™ğ™£ğ™šğ™¨ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¥ğ™¡ğ™ğ™£ğ™ ğ™¤ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©>
á¯½ .ğ™¡ğ™ğ™¢ğ™—ğ™¤ <ğ™–ğ™¢ğ™¤ğ™ªğ™£ğ™©> <ğ™¢ğ™ªğ™¡ğ™©ğ™ğ™¥ğ™¡ğ™ğ™šğ™§>

ğŸ” ğ™ğ™€ğ˜¼ğ™ğ˜¾ğ™ƒ ğ™ˆğ™€ğ™‰ğ™ ğŸ”
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™œğ™¥ğ™© <ğ™¦ğ™ªğ™šğ™§ğ™®>
á¯½ .ğ™–ğ™ <ğ™¦ğ™ªğ™šğ™§ğ™®>
á¯½ .ğ™œğ™¤ğ™¤ğ™œğ™¡ğ™š <ğ™¦ğ™ªğ™šğ™§ğ™®>

ğŸ–¼ï¸ ğ™„ğ™ˆğ˜¼ğ™‚ğ™€ ğ™ˆğ™€ğ™‰ğ™ ğŸ–¼ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¨ğ™©ğ™ğ™˜ğ™ ğ™šğ™§
á¯½ .ğ™—ğ™¡ğ™ªğ™§
á¯½ .ğ™§ğ™šğ™¢ğ™¤ğ™«ğ™šğ™—ğ™œ

ğŸŒŸ ğ™ğ™ğ™‰ ğ™ˆğ™€ğ™‰ğ™ ğŸŒŸ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¢ğ™–ğ™©ğ™˜ğ™ [@ğ™ªğ™¨ğ™šğ™§]
á¯½ .ğ™§ğ™¤ğ™–ğ™¨ğ™© @ğ™ªğ™¨ğ™šğ™§
á¯½ .ğ™¨ğ™ğ™¢ğ™¥ @ğ™ªğ™¨ğ™šğ™§

ğŸª· ğ˜¿ğ™Šğ™’ğ™‰ğ™‡ğ™Šğ˜¼ğ˜¿ ğ™ˆğ™€ğ™‰ğ™ ğŸª·
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
á¯½ .ğ™¥ğ™¡ğ™–ğ™® <ğ™¨ğ™¤ğ™£ğ™œ>
á¯½ .ğ™ğ™£ğ™¨ğ™©ğ™–ğ™œğ™§ğ™–ğ™¢ <ğ™ªğ™§ğ™¡>
á¯½ .ğ™©ğ™ğ™ ğ™©ğ™¤ğ™  <ğ™ªğ™§ğ™¡>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’œ ğ—¡ğ—˜ğ—«ğ—¢ğ—¥ğ—” - ğ—©ğ—¶ğ—¼ğ—¹ğ—²ğ˜ ğ—•ğ˜† ğ—ğ˜†ğ—»ğ˜…`;

    await sock.sendMessage(from, { text: menuText });
}

export async function pingCommand(context) {
    const { sock, from } = context;
    const start = Date.now();
    
    await sock.sendMessage(from, { text: 'ğŸ“ Pinging...' }).then(async () => {
        const latency = Date.now() - start;
        const responseText = `â•­â”â”ğ–£” ğ—£ğ—¢ğ—¡ğ—š ğ–£”â”â”â•®
â”‚                       
â”‚  âš¡ ğ™‡ğ™–ğ™©ğ™šğ™£ğ™˜ğ™®: ${latency}ms
â”‚  ğŸ¤– ğ™ğ™©ğ™–ğ™©ğ™ªğ™¨: ğ˜¼ğ™˜ğ™©ğ™ğ™«ğ™š âœ“
â”‚  
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯`;
        
        await sock.sendMessage(from, { text: responseText });
    });
}

export async function aliveCommand(context) {
    const { sock, from } = context;
    const uptime = formatUptime(Date.now() - startTime);
    
    const aliveText = `â•­â”â”ğ–£” ğ—”ğ—Ÿğ—œğ—©ğ—˜ ğ–£”â”â”â•®
â”‚                       
â”‚  âœ¦ ğ˜½ğ™¤ğ™©: ğ—©ğ—¶ğ—¼ğ—¹ğ—²ğ˜
â”‚  âœ¦ ğ™ğ™©ğ™–ğ™©ğ™ªğ™¨: ğ˜¼ğ™¡ğ™ğ™«ğ™š & ğ˜¼ğ™˜ğ™©ğ™ğ™«ğ™š âœ“
â”‚  âœ¦ ğ™ğ™¥ğ™©ğ™ğ™¢ğ™š: ${uptime}
â”‚  âœ¦ ğ™Šğ™¬ğ™£ğ™šğ™§: ğ—ğ˜†ğ—»ğ˜…
â”‚  
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯`;
    
    await sock.sendMessage(from, { text: aliveText });
}

export async function afkCommand(context) {
    const { sock, from, sender, args } = context;
    const reason = args.join(' ') || 'No reason';
    
    const userRef = db.ref(`users/${sender.replace('@s.whatsapp.net', '')}`);
    await userRef.update({
        afk: true,
        afkReason: reason,
        afkTime: Date.now()
    });
    
    const afkText = `â•­â”â”ğ–£” ğ—”ğ—™ğ— ğ— ğ—¢ğ——ğ—˜ ğ–£”â”â”â•®
â”‚                       
â”‚  ğŸ’¤ ğ™”ğ™¤ğ™ª'ğ™§ğ™š ğ™£ğ™¤ğ™¬ ğ˜¼ğ™ğ™†
â”‚  
â”‚  ğŸ“ ğ™ğ™šğ™–ğ™¨ğ™¤ğ™£:
â”‚  ${reason}
â”‚  
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯`;
    
    await sock.sendMessage(from, { text: afkText });
}

export async function mugenCommand(context) {
    const { sock, from } = context;
    
    const mugenText = `â•­â”â”ğ–£” ğ— ğ—¨ğ—šğ—˜ğ—¡ ğ—§ğ—¥ğ—”ğ—œğ—¡ ğ–£”â”â”â•®
â”‚                       
â”‚  ğŸš‚ ğ™ˆğ™ªğ™œğ™šğ™£ ğ™ğ™§ğ™–ğ™ğ™£ ğ™„ğ™£ğ™›ğ™¤
â”‚  
â”‚  âˆ The infinite train
â”‚  ğŸ­ Demon Slayer reference
â”‚  âš”ï¸ Epic adventure awaits!
â”‚  
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯`;
    
    await sock.sendMessage(from, { text: mugenText });
}
